<!DOCTYPE html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>56</title>

    <link rel="stylesheet" href="../css/common.css">
</head>
<body>

    <div>

        <h3>&there4; 사용자정의객체 생성</h3>

        <hr/>

        <p>자바스크립트에서, <b class="note">사용자정의객체</b>를 생성하는 방법은 아래와 같이 2가지 방법이 있음</p>

        <ol class="note">
            <li>객체변수를 이용하는 방법</li>
            <li>생성자 함수를 이용하는 방법</li>
        </ol>

        <hr/>

        <h4 class="note">(2) 생성자 함수를 이용하는 방법</h4>

        <p>이 방법은 아래와 같이 2가지 방법으로 다시 구분할 수 있음</p>

        <ol class="note">
            <li>자바스크립트에서 기본제공하는 Object() 생성자 함수를 이용하는 방법</li>
            <li>사용자가 직접 생성자 함수를 정의하는 방법</li>
        </ol>

        <hr/>

        <h4>1. Object() 생성자 함수를 이용하는 방법</h4>

        <ul class="note">
            <li>(*중요*) Object() 생성자 함수로 객체생성 하는경우, new 연산자로 객체를 먼저 생성 후, 속성과 메소드 정의</li>
            <li>(*중요*) 객체의 속성과 메소드가 정해지지 않았을 경우, 객체부터 생성해야 할 때, 이 방법을 사용</li>
            <li>(*중요*) Object() 생성자 함수의 첫문자는 대문자.<br/>이와같이, 생성자 함수의 첫문자는 대문자로 작성할 것을 권장(관례)</li>
            <li>(*중요*) 객체생성위해 Object()생성자 함수 사용이 일반적이지만,<br/>간단하게 중괄호({})만 사용해 객체생성 가능. 중괄호({})는 "빈객체" 의미</li>
        </ul>

<div class="boxBorder bold">

    <pre>
        <code>

    var car = new Object()      // 객체생성

    car.name = 'Sonata'         // 속성정의
    car.speed = 100             // 속성정의
    car.color = 'blue'          // 속성정의


    car.speedUp = function () { // 메소드 선언
        return this.speed + 10
    } // speedUp
            
        </code>
    </pre>

</div>


        <p/>


<div class="boxBorder bold">

    <pre>
        <code>

    // 간단하게 중괄호({})만 사용해 객체생성 가능. 중괄호({})는 "빈객체" 의미
    var car = new Object()  &rarr;  var car = {}
            
        </code>
    </pre>
    
</div>

        <p/>


        <h4>2. 생성자 함수 정의</h4>


        <ul class="note">
            <li>(*중요*) 객체도, 생성자 함수를 이용하여 객체의 속성과 메소드를 한 번 정의해 놓으면,<br/>필요시마다 new 연산자로 새로운 객체 생성가능</li>
            <li>생성자 함수로 정의한 객체는, new 연산자로 인스턴스화 한 후에 사용</li>
            <li>(*중요*) 인스턴스화된 모든 객체는 각각 고유한 객체로 취급</li>
        </ul>


<div class="boxBorder bold">

    <pre>
        <code>

    function Car(name, color, speed) {

        // 필드(속성) 정의
        this.name = name
        this.color = color
        this.speed = speed


        // 메소드 선언
        this.speedUp = function () {
            return this.speed + 10
        } // speedUp

        this.speedDown = function () {
            return this.speed - 10
        } // speedDown

    } // Car 생성자 함수(Constructor) 정의


    // 정의한 생성자 함수로 객체 생성
    var hongCar = new Car('Sonata', 'blue', 100)
    var kimCar = new Car('Jeep', 'red', 70)
    var leeCar = new Car('Passt', 'white', 150)
            
        </code>
    </pre>
    
</div>

        <p/>


        <div class="boxBorder bold">

            <ul class="none_style">
                <li>{ Hong Car }</li>
                <li><span id="carname"></span></li>
                <li><span id="carcolor"></span></li>
                <li><span id="carspeed"></span></li>
                <li>&nbsp;</li>

                <li>{ Kim's Car }</li>
                <li><span id="carname2"></span></li>
                <li><span id="carcolor2"></span></li>
                <li><span id="carspeed2"></span></li>
            </ul>

        </div>


        <script>

            console.log("---------------------------------------------")


            function Car(name, color, speed) {      // 생성자 함수 정의

                // 필드(속성) 선언
                this.name = name
                this.color = color
                this.speed = speed


                // 메소드 선언
                this.speedUp = function () {
                    return this.speed + 10
                } // speedUp

                this.speedDown = function () {
                    return this.speed - 10
                } // speedDown

            } // Car 

        
            var hongCar = new Car('Sonata', 'blue', 100)
            var kimCar = new Car('Jeep', 'red', 70)
            
            console.log('1. honeCar:', hongCar)
            console.log('2. kimCar:', kimCar)

            //-------------------------------------------------//

            var carname = document.getElementById('carname')
            var carcolor = document.getElementById('carcolor')
            var carspeed = document.getElementById('carspeed')

            console.log('\t+ carname:', carname)
            console.log('\t+ carcolor:', carcolor)
            console.log('\t+ carspeed:', carspeed)


            carname.textContent = '자동차 이름: ' + hongCar.name
            carcolor.textContent = '자동차 색상: ' + hongCar.color
            carspeed.textContent = '자동차 속도: ' + hongCar.speed

            //-------------------------------------------------//

            var carname2 = document.getElementById('carname2')
            var carcolor2 = document.getElementById('carcolor2')
            var carspeed2 = document.getElementById('carspeed2')

            console.log('\t+ carname2:', carname2)
            console.log('\t+ carcolor2:', carcolor2)
            console.log('\t+ carspeed2:', carspeed2)

            carname2.textContent = '자동차 이름: '+ kimCar.name
            carcolor2.textContent = '자동차 색상: ' + kimCar.color
            carspeed2.textContent = '자동차 속도: ' + kimCar.speed

        </script>


        <ul>
            <li class="note">(*중요*) 이미 생성된 객체에 속성을 추가하려면, "객체명.속성명 = 속성값" 형태로 작성</li>
            <li class="note">(*중요*) 속성을 제거하려면, "delete 객체명.속성명" 형태로 작성</li>
            <li class="note">객체에 속성을 추가하거나 제거하면 해당객체에만 적용되고, 다른 객체에는 적용되지 않음</li>
            <li>따라서, 다른 객체의 속성과 메소드는 정상적으로 사용가능</li>
        </ul>


<div class="boxBorder bold">

    <pre>
        <code>

    kimCar.price = '3천만원'        // 필드(속성) 추가
    delete kimCar.color             // 필드(속성) 삭제
            
        </code>
    </pre>
    
</div>

        <p/>


        <div class="boxBorder bold">

            <ul class="none_style">
                <li>{ Hong Car }</li>
                <li><span id="hong1"></span></li>
                <li><span id="hong2"></span></li>
                <li><span id="hong3"></span></li>
                <li>&nbsp;</li>
                
                <li>{ Kim's Car }</li>
                <li><span id="data1"></span></li>
                <li><span id="data2"></span></li>
                <li><span id="data3"></span></li>
                <li><span id="data4"></span></li>
            </ul>

        </div>


        <script>

            console.log("---------------------------------------------")


            function Car2(name, color, speed) {     // 사용자 정의 생성자 함수 정의
                
                // 필드(속성) 선언
                this.name = name
                this.color = color
                this.speed = speed


                // 메소드 선언
                this.speedUp = function () {
                    return this.speed + 10
                } // speedUp

                this.speedDown = function () {
                    return this.speed - 10
                } // speedDown

            } // Car2


            var hongCar2 = new Car2('Sonata', 'blue', 100)
            var kimCar2 = new Car2('Jeep', 'red', 70)

            console.log('3. hongCar2:', hongCar2)
            console.log('4. kimCar2:', kimCar2)

            //-------------------------------------------------//

            kimCar2.price = '3천만원'        // 필드(속성) 추가
            delete kimCar2.color            // 필드(속성) 삭제

            console.log('5. kimCar2 after deleting color attribute:', kimCar2)

            //-------------------------------------------------//

            var hong1 = document.getElementById('hong1')
            var hong2 = document.getElementById('hong2')
            var hong3 = document.getElementById('hong3')

            console.log('\t+ hong1:', hong1)
            console.log('\t+ hong2:', hong2)
            console.log('\t+ hong3:', hong3)


            hong1.textContent = 'name: ' + hongCar2.name
            hong2.textContent = 'color: ' + hongCar2.color
            hong3.textContent = 'speed: ' + hongCar2.speedUp()

            //-------------------------------------------------//

            var data1 = document.getElementById('data1')
            var data2 = document.getElementById('data2')
            var data3 = document.getElementById('data3')
            var data4 = document.getElementById('data4')

            console.log('\t+ data1:', data1)
            console.log('\t+ data2:', data2)
            console.log('\t+ data3:', data3)
            console.log('\t+ data4:', data4)


            data1.textContent = 'name: ' + kimCar2.name
            data2.textContent = 'color: ' + kimCar2.color       // 삭제된 속성 출력 (undefined)
            data3.textContent = 'speed: ' + kimCar2.speedUp()
            data4.textContent = 'price: ' + kimCar2.price       // 추가된 속성 출력

        </script>

    </div>
    
</body>
</html>